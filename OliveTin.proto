syntax = "proto3";

option go_package = "gen/grpc";

import "google/api/annotations.proto";

message ActionButton {
	string id = 1;
	string title = 2;
	string icon = 3;
}

message GetButtonsResponse {
	string title = 1;
	repeated ActionButton actions = 2;
}

message GetButtonsRequest {}

message StartActionRequest {
	string actionName = 1;
}

message StartActionResponse {
	string stdout = 1;
	string stderr = 2;
	bool timedOut = 3;
	int32 exitCode = 4;
}

service OliveTinApi {
	rpc GetButtons(GetButtonsRequest) returns (GetButtonsResponse) {
		option (google.api.http) = {
			get: "/api/GetButtons"
		};
	}

	rpc StartAction(StartActionRequest) returns (StartActionResponse) {
		option (google.api.http) = {
			get: "/api/StartAction"
		};
	}

}
